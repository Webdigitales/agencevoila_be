function tileHover(){function e(e,t,n){var o=t.getBoundingClientRect(),a=e.pageX-o.left,r=e.pageY-o.top-window.scrollY;TweenMax.to(n,.15,{x:a,y:r})}Array.prototype.forEach.call(document.querySelectorAll(".tile"),(function(t){const n=document.querySelector("."+t.getAttribute("data-circle"));TweenMax.set(n,{scale:0,xPercent:-50,yPercent:-50}),t.addEventListener("pointerenter",(function(o){TweenMax.to(n,.3,{scale:3,opacity:1}),e(o,t,n)})),t.addEventListener("pointerleave",(function(o){TweenMax.to(n,.3,{scale:0,opacity:0}),e(o,t,n)})),t.addEventListener("pointermove",(function(o){e(o,t,n)}))}))}function playHover(){function e(e,t,n){var o=t.getBoundingClientRect(),a=e.pageX-o.left,r=e.pageY-o.top-window.scrollY;TweenMax.to(n,.15,{x:a,y:r})}Array.prototype.forEach.call(document.querySelectorAll(".video"),(function(t){const n=document.querySelector("."+t.getAttribute("data-circle"));TweenMax.set(n,{scale:0,xPercent:-50,yPercent:-50}),t.addEventListener("pointerenter",(function(o){TweenMax.to(n,.3,{scale:3,opacity:1}),e(o,t,n)})),t.addEventListener("pointerleave",(function(o){TweenMax.to(n,.3,{scale:0,opacity:0}),e(o,t,n)})),t.addEventListener("pointermove",(function(o){e(o,t,n)}))}))}function cursorFollow(){var e=0,t=0,n=0,o=0;$(document).mousemove((function(n){e=n.pageX-5,t=n.pageY-5})),setInterval((function(){n+=(e-n)/6,o+=(t-o)/6,$("#cursor").css({left:n+"px",top:o+"px"})}),20),$(".tile").mouseenter((function(){$("#cursor").fadeOut()})).mouseleave((function(){$("#cursor").fadeIn()})),$(".menu a, .btn, .projectpartie img").mouseenter((function(){$("#cursor").addClass("active")})),$(".menu a, .btn, .projectpartie img").mouseleave((function(){$("#cursor").removeClass("active")}))}function delay(e){return e=e||2e3,new Promise(t=>{setTimeout(()=>{t()},e)})}function changeColor(){$(".tile").mouseenter((function(){var e=$(this).attr("data-color");$(".loading-screen").css("background-color",e),console.log(e)})).mouseleave((function(){$(".loading-screen").css("background-color","#ECE96F")}))}function pageTransition(){var e=gsap.timeline();$("#nav-main, body, #burger").removeClass("active"),e.set(".loading-screen",{transformOrigin:"bottom left"}),e.to(".loading-screen",{duration:.5,scaleY:1}),e.to(".loading-screen",{duration:.5,scaleY:0,skewX:0,transformOrigin:"top left",ease:"power1.out",delay:.5}),e.to(".loading-screen",{backgroundColor:"#ECE96F"})}function contentAnimation(){cursorFollow(),ScrollReveal().reveal(".js-reveal",{reset:!0,interval:200,duration:1e3,origin:"bottom",distance:"80px"}),changeColor(),$(window).scrollTop(0),tileHover();var e=gsap.timeline();mySplitText=new SplitText(".hero h1",{type:"words,chars"}),chars=mySplitText.chars,gsap.set(".hero h1, .hero-project h1",{perspective:400}),e.from(chars,{duration:1,opacity:0,scale:0,y:80,rotationX:180,transformOrigin:"0% 50% -50",ease:"back",stagger:.01}),e.from(".is-animated",{duration:.5,translateY:30,opacity:0,stagger:.1}),e.from(".tile",{duration:.5,translateY:30,opacity:0,stagger:.1},"-=1")}playHover(),cursorFollow(),$(window).scroll((function(){let e=$(this).scrollTop();$("#content article").css({opacity:100/e,filter:"blur("+e/100+"px)"}),$("#content").css({opacity:100/e}),e>190?$("body").hasClass("active")||$("#header-main").addClass("arre"):$("#header-main").removeClass("arre")})),$("#burger").on("click",(function(e){e.preventDefault(),$("#nav-main, body, #burger").toggleClass("active"),$("#header-main").hasClass("arre")?$("#header-main").removeClass("arre").addClass("arreno"):$("#header-main").hasClass("arreno")&&($("#header-main").removeClass("arreno"),setTimeout(()=>{$("#header-main").addClass("arre")},800))})),changeColor(),$((function(){barba.init({sync:!0,transitions:[{async leave(e){const t=this.async();pageTransition(),await delay(1e3),t()},async enter(e){contentAnimation()},async once(e){contentAnimation()}}]})})),ScrollReveal().reveal(".js-reveal",{reset:!0,interval:200,duration:1e3,origin:"bottom",distance:"80px"});